{
  "properties": {
    "full_text": {
      "type": "text"
    },
    "title": {
      "type": "object",
      "properties": {
        "primary": {
          "type": "text",
          "copy_to": "full_text"
        },
        "alternate": {
          "type": "text",
          "copy_to": "full_text"
        }
      }
    }
  },
  "dynamic_templates": [
    {
      "date_text": {
        "match_pattern": "regex",
        "match": "(^date$|^date_|_date$)",
        "mapping": { "type": "keyword" }
      }
    },
    {
      "dynamic_date": {
        "match": "*_dt",
        "mapping": { "type": "date" }
      }
    },
    {
      "dynamic_integer": {
        "match": "*_i",
        "mapping": { "type": "integer" }
      }
    },
    {
      "dynamic_long": {
        "match": "*_l",
        "mapping": { "type": "long" }
      }
    },
    {
      "dynamic_double": {
        "match": "*_dbl",
        "mapping": { "type": "double" }
      }
    },
    {
      "dynamic_boolean": {
        "match": "*_bool",
        "mapping": { "type": "boolean" }
      }
    },
    {
      "dynamic_ip": {
        "match": "*_ip",
        "mapping": { "type": "ip" }
      }
    },
    {
      "facets": {
        "match": "*_facet",
        "mapping": {
          "type": "keyword"
        }
      }
    },
    {
      "nested": {
        "match": "*_nested",
        "mapping": {
          "type": "nested"
        }
      }
    },
    {
      "with_id": {
        "match": "*_idd",
        "mapping": {
          "type": "nested",
          "properties": {
            "id": {
              "type": "keyword"
            },
            "title": {
              "type": "text",
              "fields": {
                "keyword": { "type": "keyword" }
              },
              "copy_to": ["full_text", "{name}_facet"]
            }
          }
        }
      }
    },
    {
      "latlong": {
        "match": "*_geo",
        "mapping": {
          "type": "geo_point"
        }
      }
    },
    {
      "linked_data": {
        "match": "*_ld",
        "mapping": {
          "type": "nested",
          "properties": {
            "uri": { "type": "keyword" },
            "label": {
              "type": "text",
              "fields": {
                "keyword": { "type": "keyword" }
              },
              "copy_to": ["full_text", "{name}_facet"]
            }
          }
        }
      }
    },
    {
      "linked_data_with_role": {
        "match": "*_ldr",
        "mapping": {
          "type": "nested",
          "properties": {
            "role": { "type": "keyword" },
            "uri":  { "type": "keyword" },
            "label": {
              "type": "text",
              "fields": {
                "keyword": { "type": "keyword" }
              },
              "copy_to": ["full_text", "{name}_facet"]
            }
          }
        }
      }
    }
  ]
}
